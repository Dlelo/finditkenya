extends ../layout-shop
block content
  #home.parallax-content-list.baner-content-listing-biz
    .container-fluid.container-margin-top
      .container-fluid.shopping-background
         .section
           .carousel-shop
              div#demo.carousel.slide(data-ride="carousel")

                //- Indicators
                ul.carousel-indicators
                  li(data-target="#demo" data-slide-to="0" class="active")
                  li(data-target="#demo" data-slide-to="1")
                  li(data-target="#demo" data-slide-to="2")
                div.carousel-inner
                  div(class="carousel-item active")
                    img(src="/img/hannan-chandaria.png" style="width: 100%" alt="Los Angeles")
                  div(class="carousel-item")
                    img(src="/img/velvex-chandaria.png" style="width: 100%"  alt="Chicago")
                  div(class="carousel-item")
                    img(src="/img/velvex-chan.png" style="width: 100%" alt="New York")


                .carousel-control-prev(href="#demo" data-slide="prev")
                   span(class="carousel-control-prev-icon")
                .carousel-control-next(href="#demo" data-slide="next")
                   span(class="carousel-control-next-icon")
         .section.deal-of-the-day  
           .row
             .col-md-3.py-2
                .card.h-100.shopping-card-margin
                  .card-body
                    .card-title.shop-card-title
                      h5.agile-title.h-order-category.text-center
                        | Best Sellers
                      img.card-img-top.shopping-home-img(src="/img/blueband.jpg" alt="Card image" style="width:100%")
                    .card-body
                      .card-text
                        small
                          a(href="#")
                            | Shop Now
                
             .col-md-3.py-2
                .card.h-100.shopping-card-margin
                  .card-body
                    .card-title.shop-card-title
                      h5.agile-title.h-order-category.text-center
                        | Deals of the Day
                      img.card-img-top.shopping-home-img(src="/img/airfreshener.png" alt="Card image" style="width:100%")
                    .card-text
                      .price-old.strike
                        small
                          | Was  
                          span
                            |  KES 301
                      .price-new
                        small
                          | Now  
                          span.findit-red
                            |  KES 287
                      small
                        a(href="#")
                          | See More deals
                
             .col-md-3.py-2
                .card.h-100.shopping-card-margin
                  .card-body
                    .card-title.shop-card-title
                      h5.agile-title.h-order-category
                        | Featured Products
                      img.card-img-top.shopping-home-img(src="/img/royco.png" alt="Card image" style="width:100%")
                    .card-text
                      small
                        a(href="#")
                          | Shop Here
               
             .col-md-3.py-2
                .card.h-100.shopping-card-margin
                  .card-body
                    .card-title.shop-card-title
                      h5.agile-title.h-order-category
                        | New Arrivals
                      img.card-img-top.shopping-home-img(src="/img/royco.png" alt="Card image" style="width:100%")
                    .card-text
                      small
                        a(href="#")
                          | Shop Here
         .section.general-best-sellers
            h5.agile-title.h-order-category.text-left
              | Today's top deals
              span 
                small
                  a(href="#")
                    | see More deals
            row
              .owl-carousel.owl-theme
                .item.py-2(style="border:none")
                   .card.h-100(style="border:none !important")
                      img.card-img-top.w-100.product-img-home(src="/img/cups.jpeg" alt="1 slide" style="width: 250px !important; height: 250px !important;")
                      .card-text
                        .price-old.findit-blue.strike
                          small Was  
                            span KES 301
                        .price-new.findit-red
                          small Now  
                            span KES 287
                        
                .item.py-2(style="border:none")
                   .card.h-100(style="border:none !important")
                      img.card-img-top.w-100.product-img-home(src="/img/dress.jpg" alt="1 slide" style="width: 250px !important; height: 250px !important;")
                      .card-text
                        .price-old.findit-blue.strike
                          small Was  
                            span KES 301
                        .price-new.findit-red
                          small Now  
                            span KES 287
                .item.py-2(style="border:none")
                   .card.h-100(style="border:none !important")
                      img.card-img-top.w-100.product-img-home(src="/img/omo.jpg" alt="1 slide" style="width: 250px !important; height: 250px !important;")
                      .card-text
                        .price-old.findit-blue.strike
                          small Was  
                            span KES 301
                        .price-new.findit-red
                          small Now  
                            span KES 287
                .item.py-2(style="border:none")
                   .card.h-100(style="border:none !important")
                      img.card-img-top.w-100.product-img-home(src="/img/sandals.jpg" alt="1 slide" style="width: 250px !important; height: 250px !important;")
                      .card-text
                        .price-old.findit-blue.strike
                          small Was  
                            span KES 301
                        .price-new.findit-red
                          small Now  
                            span KES 287
                .item.py-2(style="border:none")
                   .card.h-100(style="border:none !important")
                      img.card-img-top.w-100.product-img-home(src="/img/tcltv.jpg" alt="1 slide" style="width: 250px !important; height: 250px !important;")
                      .card-text
                        .price-old.findit-blue.strike
                          small Was  
                            span KES 301
                        .price-new.findit-red
                          small Now  
                            span KES 287
                .item.py-2(style="border:none")
                   .card.h-100(style="border:none !important")
                      img.card-img-top.w-100.product-img-home(src="/img/speaker.jpg" alt="1 slide" style="width: 250px !important; height: 250px !important;")
                      .card-text
                        .price-old.findit-blue.strike
                          small Was  
                            span KES 301
                        .price-new.findit-red
                          small Now  
                            span KES 287
         .section.shop-now
            each category,i in categories
              if(i<1)
                h5(style="margin:1rem;")
                    =category.name      
                    span
                      small
                        a(href="#")
                          |     Shop Now

                .row
                  .col-md-3.py-2
                    .banner-featured
                        .item
                          .scale
                            img.img-fluid(src="/img/phones-edited.png")
                    //.card.h-100(style="border:none !important")
                      .card-body(style="padding:0px; !important")
                          .card-text
                            ul
                              each subcat in category.subcategories
                                li
                                  .findit-blue.text-capitalize
                                      strong
                                        =subcat.name
                                  ul.nav.flex-column
                                        each minicat in subcat.minicategories
                                          li.nav-item
                                            a.nav-link(href="#")
                                              small.description-cat
                                                  strong
                                                    =minicat.name
                  .col-md-9
                    div
                        ul.nav.nav-tabs(role="tablist")
                          each subcat in category.subcategories
                            li.nav-item.dropdown(style="margin-right=2px;")
                              a.nav-link.dropdown-toggle(data-toggle="dropdown" id="dropdownMenu1" href="#" role="button" aria-haspopup="true" aria-expanded="false")
                                .findit-blue.text-capitalize
                                    strong
                                      =subcat.name
                              div.dropdown-menu
                                each minicat in subcat.minicategories
                                  a.dropdown-item(href="#")
                                    small
                                      =minicat.name
                            
                        div(id="myTabContent" class="tab-content")                  
         .section.general-best-sellers
            h5.agile-title.h-order-category.text-left
              | Best Sellers Today
              span 
                small
                  a(href="#")
                    | see More
            .container-fluid.product-carousel
              div#carouselExample(class="carousel slide" data-ride="carousel" data-interval="9000")
                div(class="carousel-inner row w-100 mx-auto" role="listbox")
                  div(class="carousel-item col-md-3 active")
                    .card.h-100(style="border:none !important")
                      img.card-img-top.w-100.product-img-home(src="/img/exe.jpeg" alt="1 slide" style="width: 250px !important; height: 250px !important;")
                        
                  div(class="carousel-item col-md-3 ")
                    .card.h-100(style="border:none !important") 
                      img.card-img-top.w-100.product-img-home(src="/img/rice.jpeg" alt="slide 2" style="width: 250px !important; height: 250px !important;" )
                    
                  div(class="carousel-item col-md-3")
                    .card.h-100(style="border:none !important") 
                      img.card-img-top.w-100.product-img-home(src="/img/earrings.jpeg" alt="slide 3" style="width: 250px !important; height: 250px !important;" )  
                  div(class="carousel-item col-md-3")
                    .card.h-100(style="border:none !important") 
                      img.card-img-top.w-100.product-img-home(src="/img/pillows.jpeg" alt="slide 4" style="width: 250px !important; height: 250px !important;" )
                  div(class="carousel-item col-md-3")
                    .card.h-100(style="border:none !important") 
                      img.card-img-top.w-100.product-img-home(src="/img/pillows.jpeg" alt="slide 5" style="width: 250px !important; height: 250px !important;" )
                  div(class="carousel-item col-md-3")
                    .card.h-100(style="border:none !important") 
                      img.card-img-top.w-100.product-img-home(src="/img/mats.jpeg" alt="slide 5" style="width: 250px !important; height: 250px !important;" )
                  div(class="carousel-item col-md-3 ")
                    .card.h-100(style="border:none !important") 
                      img.card-img-top.w-100.product-img-home(src="/img/rice.jpeg" alt="slide 6" style="width: 250px !important; height: 250px !important;" )
                  div(class="carousel-item col-md-3")
                    .card.h-100(style="border:none !important") 
                      img.card-img-top.w-100.product-img-home(src="/img/earrings.jpeg" alt="slide 7" style="width: 250px !important; height: 250px !important;" )
                    
                a(class="carousel-control-prev" href="#carouselExample" role="button" data-slide="prev")
                  i(class="fas fa-chevron-left fa-lg text-muted")
                  span(class="sr-only") Previous
                a(class="carousel-control-next text-faded" href="#carouselExample" role="button" data-slide="next")
                  i(class="fa fa-chevron-right fa-lg text-muted")
                  span(class="sr-only") Next
            
         .section.sponsored-deal(style="background-color:  #fff; margin: 1rem;")
            div.row
              div.col-sm-6
                div.row
                  div.col-md-6
                    .card(style="border:none !important")
                       img(class="card-img-top img-fluid" src="/img/rings.jpeg" alt="Card image cap")
                  div.col-md-6
                    .card(style="border:none !important")
                      .card-block(style="padding:1rem")
                          h4(class="card-title")
                            | title
                          p(class="card-text")
                            | This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                          p(class="card-text")
                            small.text-muted
                              | Last updated 3 mins ago
                          
              div.col-sm-6
                div.row
                  div.col-md-6
                    .card(style="border:none !important")
                       img(class="card-img-top img-fluid" src="/img/rings.jpeg" alt="Card image cap")
                  div.col-md-6
                    .card(style="border:none !important")
                      .card-block(style="padding:1rem")
                          h4(class="card-title")
                            | Title
                          p(class="card-text")
                            | This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                          p(class="card-text")
                            small.text-muted
                              | Last updated 3 mins ago
           
         
               

    // script to show quick look on mouseover
    script(type='text/javascript').
        $(document).ready(function () {
        $('.img-wrap').hover(function () {
            $(this).find('span').show();
        }, function () {
            $(this).find('span').hide();
        });
        });
    //owl carousel
    script(type='text/javascript').
      $('.owl-carousel').owlCarousel({
        loop:true,
        margin:10,
        nav:true,
        responsive:{
            0:{
                items:1
            },
            600:{
                items:3
            },
            1000:{
                items:6
            }
        }
      });
    //script for filtering products based on category
    script(type='text/javascript').
      filterSelection("all")
      function filterSelection(c) {
        var x, i;
        x = document.getElementsByClassName("filterDiv");
        if (c == "all") c = "";
        for (i = 0; i < x.length; i++) {
          w3RemoveClass(x[i], "show");
          if (x[i].className.indexOf(c) > -1) w3AddClass(x[i], "show");
        }
      }

      function w3AddClass(element, name) {
        var i, arr1, arr2;
        arr1 = element.className.split(" ");
        arr2 = name.split(" ");
        for (i = 0; i < arr2.length; i++) {
          if (arr1.indexOf(arr2[i]) == -1) {element.className += " " + arr2[i];}
        }
      }
    
    script(type='text/javascript').
      $('#carouselExample').on('slide.bs.carousel', function (e) {

        var $e = $(e.relatedTarget);
        var idx = $e.index();
        var itemsPerSlide = 4;
        var totalItems = $('.carousel-item').length;
        
        if (idx >= totalItems-(itemsPerSlide-1)) {
            var it = itemsPerSlide - (totalItems - idx);
            for (var i=0; i<it; i++) {
                // append slides to end
                if (e.direction=="left") {
                    $('.carousel-item').eq(i).appendTo('.carousel-inner');
                }
                else {
                    $('.carousel-item').eq(0).appendTo('.carousel-inner');
                }
            }
        }
      });